{% extends "base.html" %}
{% load treinos_tags %}
{% block content %}
<div class="card">
  <div class="card-header">
    Detalhes do Treino
  </div>
  <div class="card-body">
    <p><strong>Data:</strong> {{ treino.data|date:"d/m/Y" }}</p>
    <p><strong>Treino:</strong> {{ treino.treino.nome }} (Ficha: {{ treino.treino.ficha }})</p>
    <ul class="list-group">
      {% for item in treino_exercicios %}
      <li class="list-group-item d-flex justify-content-between">
        <div>
          <strong>{{ item.exercicio.nome }}</strong><br>
          {{ item.series }} séries x {{ item.repeticoes }} repetições
        </div>
        {% with prog=progresso|get_item:item.exercicio.id %}
        <span class="badge {% if prog and prog.concluido %}bg-success{% else %}bg-secondary{% endif %}">
          {% if prog and prog.concluido %}Concluído{% else %}Pendente{% endif %}
        </span>
        {% endwith %}
      </li>
      {% endfor %}
    </ul>
  </div>
</div>
<a class="btn btn-secondary mt-3" href="{% url 'treinos:historico' %}">Voltar</a>
{% endblock %}
